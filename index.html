<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="utf-8">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<title>Hangman-Game</title>
</head>
<body class="bg-info">

	<div class="container-fluid bg-danger">
		<div class="page-header text-center">
			<h1>The Hangman Game</h1>
		</div>
	</div>

	<div class="container-fluid" style="height: 100%; width: 100%">
		<div class="jumbotron text-center" style="margin-top: 20px; background-color: #498d5c">
			<div class="row">
				<h2>
					Press Any Key To Get Started
				</h2>
			</div>
			<div class="row text-center">
				<div class="col-xs-12" id="wins"></div>	
			</div>
			<div class="row text-center">
				<div class="col-xs-12" id="current_word"></div>	
			</div>
			<div class="row text-center">
				<div class="col-xs-12" id="guesses_remaining_title"></div>	
			</div>
			<div class="row text-center">
				<div class="col-xs-12" id="guesses_remaining_number"></div>	
			</div>
			<div class="row text-center">
				<div class="col-xs-12" id="letters_used_title"></div>	
			</div>
			<div class="row text-center">
				<div class="col-xs-12" id="letters_used"></div>	
			</div>
		</div>
	</div>

<script>

	var array_of_words = ["robben","messi","ronaldo","payet","cuauhtemoc","crouch"];

	function random_index() {
			return Math.floor(Math.random() * (array_of_words.length));
		}

	// var printing_spaces = function(word){
		
	// 	var spaces = "";
	// 	for(var i = 0; i < word.length; i++){

	// 		spaces = spaces + " - ";

	// 	}
	// 	return spaces;
	// }

	var wins = 0;
	var guesses = 15;

	var chosen_word = array_of_words[random_index()];

	var blank_array = [];

	var array_of_used_letters = [];

	function blank_space_filler(word,array){
		
	 	for(var i = 0; i < word.length; i++){

	 		array.push(" _ ");

		}
	 	return array;
	 }

	function contains(a, obj) {
	    for (var i = 0; i < a.length; i++) {
	        if (a[i] === obj) {
	            return true;
	        }
	    }
	    return false;
	}



	 var blank_word = blank_space_filler(chosen_word,blank_array);

	// var blank_spaces = printing_spaces(chosen_word);


	var changing_guesses = 
		"<p>Guesses left: </p>";

	document.querySelector("#current_word").innerHTML = blank_word.join("");
	document.querySelector("#guesses_remaining_title").innerHTML = changing_guesses;
	document.querySelector("#guesses_remaining_number").innerHTML = guesses;


	document.onkeyup = function(event) {

		var changing_word = blank_word;

		var user_guess = event.key;

		var counter = 0;

		var letter_title = "<p>You have already used: </p>";

		// guesses = guesses - 1;

		if(contains(array_of_used_letters,user_guess) !== true){
			array_of_used_letters.push(user_guess);
			guesses = guesses - 1;
		}

		// if(contains(array_of_used_letters,user_guess)){
		// 	alert("you already used " + user_guess);
		// }

		console.log(chosen_word);

		if(contains(chosen_word,user_guess)){
			for(var i = 0; i < chosen_word.length; i++)  {

						if(chosen_word[i] === user_guess){
						changing_word[i] = " " + user_guess + " ";
						document.querySelector("#current_word").innerHTML = changing_word.join("");
					}

					}
				
			}
		
		console.log(guesses);
		document.querySelector("#guesses_remaining_number").innerHTML = guesses;



		document.querySelector("#letters_used_title").innerHTML = letter_title;


		document.querySelector("#letters_used").innerHTML = array_of_used_letters;

		if(contains(changing_word," _ ") === false){

			alert("you won!!!")
			location.reload();

		}

		if(guesses === 0){

			alert("you lost!!!")
			location.reload();

		}

		}


		// 	else if(chosen_word[i] != user_guess){
		// 		// guesses = guesses - 1;
		// 		console.log(counter+1);
		// 		// document.querySelector("#guesses_remaining_number").innerHTML = changing_guesses;
		// 		break;

		// 	}

		// }

</script>


</body>
</html>
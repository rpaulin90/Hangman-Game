<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1"> 
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Permanent+Marker|VT323" rel="stylesheet">
	<title>Hangman-Game</title>
</head>
<body style="background-image: url(assets/images/grass_background.jpg); font-family: 'VT323', monospace;">

	<div class="container bg-info" style="border-radius: 15px; opacity: 0.6">
		<div class="page-header text-center">
			<h1 style="font-family: 'Permanent Marker', cursive;">The Hangman Game</h1>
		</div>
	</div>

	<div class="container" style="height: 100%">
		<div class="jumbotron text-center" style="margin-top: 20px;background-color: #333333; color: white; opacity: 0.8">
			<div class="row">
				<h2>
					Press Any Key To Get Started
				</h2>
			</div>
			<div class="row text-center">
				<div class="col-xs-12" id="wins" style="font-size: 30px"></div>	
			</div>
			<div class="row text-center">
				<div class="col-xs-12" id="current_word" style="font-size: 40px"></div>	
			</div>
			<div class="row text-center">
				<div class="col-xs-12" id="guesses_remaining_title" style="font-size: 30px"></div>	
			</div>
			<div class="row text-center">
				<div class="col-xs-12" id="guesses_remaining_number" style="font-size: 30px"></div>	
			</div>
			<div class="row text-center">
				<div class="col-xs-12" id="letters_used_title" style="font-size: 30px"></div>	
			</div>
			<div class="row text-center">
				<div class="col-xs-12" id="letters_used" style="font-size: 30px"></div>	
			</div>
		</div>
	</div>
	<div class="container text-center">
			<div id="image_win" style="opacity: 0.9"></div>
	</div>

<script>


	// hold words in an array so we can randomly select one later

	var array_of_words = ["robben","messi","ronaldo","payet","cuauhtemoc","crouch"];

	// need a function that will go to a random index so we can locate a random word

	function random_index() {
			return Math.floor(Math.random() * (array_of_words.length));
		}

	// wins start at 0 and go up. Guesses start at a certain number and go down as user tries different letters.

	var wins = 0;

	var guesses = 15;

	var chosen_word = array_of_words[random_index()];

	var blank_array = [];

	var array_of_used_letters = [];

	function blank_space_filler(word,array){
		
	 	for(var i = 0; i < word.length; i++){

	 		array.push(" _ ");

		}
	 	return array;
	 }

	function contains(a, obj) {
	    for (var i = 0; i < a.length; i++) {
	        if (a[i] === obj) {
	            return true;
	        }
	    }
	    return false;
	}



	var blank_word = blank_space_filler(chosen_word,blank_array);


	var changing_guesses = 
		"<p style='font-size: 30px'>Guesses left: </p>";

	document.querySelector("#current_word").innerHTML = blank_word.join("");
	document.querySelector("#guesses_remaining_title").innerHTML = changing_guesses;
	document.querySelector("#guesses_remaining_number").innerHTML = guesses;

	document.onkeyup = function(event) {

		var changing_word = blank_word;

		var user_guess = event.key;

		var counter = 0;

		var letter_title = "<p style='font-size: 30px'>You have already used: </p>";

		var messi_image = "<img class='col-xs-12' src='assets/images/messi.jpg' alt='Lionel Messi'>"

		var crouch_image = "<img class='col-xs-12' src='assets/images/peter_crouch.jpg' alt='Peter Crouch'>"

		var payet_image = "<img class='col-xs-12' src='assets/images/payet.jpg' alt='Dimitri Payet'>"

		var cuau_image = "<img class='col-xs-12' src='assets/images/cuau.jpg' alt='Cuahutemoc Blanco'>"

		var robben_image = "<img class='col-xs-12' src='assets/images/robben.jpg' alt='Arjen Robben'>"

		var ronaldo_image = "<img class='col-xs-12' src='assets/images/ronaldo.jpg' alt='Cristiano Ronaldo'>"



		if(contains(array_of_used_letters,user_guess) !== true){
			array_of_used_letters.push(user_guess);
			guesses = guesses - 1;
		}

		console.log(chosen_word);

		if(contains(chosen_word,user_guess)){
			for(var i = 0; i < chosen_word.length; i++)  {

						if(chosen_word[i] === user_guess){
						changing_word[i] = " " + user_guess + " ";
						document.querySelector("#current_word").innerHTML = changing_word.join("");
					}

					}
				
			}
		
		document.querySelector("#guesses_remaining_number").innerHTML = guesses;



		document.querySelector("#letters_used_title").innerHTML = letter_title;


		document.querySelector("#letters_used").innerHTML = array_of_used_letters;

		if(contains(changing_word," _ ") === false){

			alert("you won!!!")
			// location.reload();

			var winning_word = chosen_word;

			wins = wins +1;

			guesses = 15;

			chosen_word = array_of_words[random_index()];

			blank_array = [];

			array_of_used_letters = [];

			blank_word = blank_space_filler(chosen_word,blank_array);

			document.querySelector("#wins").innerHTML = "Wins: " + wins;
			document.querySelector("#letters_used").innerHTML = "";
			document.querySelector("#current_word").innerHTML = blank_word.join("");
			document.querySelector("#guesses_remaining_title").innerHTML = changing_guesses;
			document.querySelector("#guesses_remaining_number").innerHTML = guesses;
			var snd = new Audio("win.mp3"); // buffers automatically when created
			snd.play();
			if(winning_word==="messi"){
			document.querySelector("#image_win").innerHTML = messi_image;
			}

			if(winning_word==="crouch"){
			document.querySelector("#image_win").innerHTML = crouch_image;
			}

			if(winning_word==="payet"){
			document.querySelector("#image_win").innerHTML = payet_image;
			}

			if(winning_word==="robben"){
			document.querySelector("#image_win").innerHTML = robben_image;
			}

			if(winning_word==="cuauhtemoc"){
			document.querySelector("#image_win").innerHTML = cuau_image;
			}

			if(winning_word==="ronaldo"){
			document.querySelector("#image_win").innerHTML = ronaldo_image;
			}

		}

		if(guesses === 0){

			alert("you lost!!!")
			// location.reload();
			guesses = 15;

			chosen_word = array_of_words[random_index()];

			blank_array = [];

			array_of_used_letters = [];

			blank_word = blank_space_filler(chosen_word,blank_array);
			document.querySelector("#letters_used").innerHTML = "";
			document.querySelector("#current_word").innerHTML = blank_word.join("");
			document.querySelector("#guesses_remaining_title").innerHTML = changing_guesses;
			document.querySelector("#guesses_remaining_number").innerHTML = guesses;
			
			var snd = new Audio("boo.mp3"); // buffers automatically when created
			snd.play();


		}

		}

</script>


</body>
</html>